<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DOM Tasks Combined</title>

<style>
body {
  font-family: Arial;
  margin: 20px;
}

.dark-mode {
  background: #222;
  color: white;
}

.product-card {
  padding: 10px;
  margin: 5px;
  background: #f4f4f4;
}

.highlight {
  background: yellow;
}

.card {
  border: 1px solid black;
  padding: 10px;
  margin: 5px;
}

.swatch {
  width: 40px;
  height: 40px;
  display: inline-block;
  margin: 5px;
  cursor: pointer;
}

.modal-overlay {
  position: fixed;
  top:0;left:0;right:0;bottom:0;
  background: rgba(0,0,0,0.5);
  display:flex;
  justify-content:center;
  align-items:center;
}

.modal {
  background:white;
  padding:20px;
}

li {
  margin: 5px;
}

</style>
</head>
<body>

<h1 id="header-title">Header</h1>

<button id="theme-toggle">Toggle Dark Mode</button>

<h2>Product Cards</h2>
<div class="product-card">Product 1</div>
<div class="product-card">Product 2</div>

<h2>Menu</h2>
<ul class="menu">
<li>Home</li>
<li>About</li>
<li>Contact</li>
</ul>

<div id="controls"></div>

<h2>Cart</h2>
<div id="cart"></div>

<h2>Avatar</h2>
<img class="avatar" width="100">

<h2>Article</h2>
<div class="article-body">
<p>Paragraph 1</p>
<p>Paragraph 2</p>
</div>

<h2>Cards</h2>
<div class="card">
<button data-action="delete">Delete Card</button>
</div>

<h2>Todo List</h2>
<input id="todo-input">
<button id="add-btn">Add</button>
<ul id="todo-list"></ul>

<h2>Users List</h2>
<ul id="users-list">
<li data-user-id="101">John</li>
<li data-user-id="102">Jane</li>
</ul>

<h2>Counter</h2>
<button id="minus">-1</button>
<span id="count">0</span>
<button id="plus">+1</button>

<h2>Search Countries</h2>
<input id="search">
<ul>
<li class="country">India</li>
<li class="country">USA</li>
<li class="country">Canada</li>
<li class="country">Japan</li>
</ul>

<h2>Color Picker</h2>
<div class="swatch" data-color="#e74c3c" style="background:#e74c3c"></div>
<div class="swatch" data-color="#3498db" style="background:#3498db"></div>
<div class="swatch" data-color="#2ecc71" style="background:#2ecc71"></div>
<div class="swatch" data-color="#f1c40f" style="background:#f1c40f"></div>
<div class="swatch" data-color="#9b59b6" style="background:#9b59b6"></div>
<div class="swatch" data-color="#000000" style="background:#000000"></div>

<h2>Sortable List</h2>
<ul id="sortable">
<li draggable="true">Item A</li>
<li draggable="true">Item B</li>
<li draggable="true">Item C</li>
</ul>

<h2>Modal</h2>
<button id="open-modal">Open Modal</button>

<script>

/* EASY 1 */
document.getElementById("header-title").textContent = "My Awesome Page";

/* EASY 2 */
document.querySelectorAll(".product-card").forEach(card=>{
card.style.border="2px solid red";
});

/* EASY 3 */
document.querySelectorAll(".menu li").forEach(li=>{
li.style.background="lightblue";
});

/* EASY 4 */
const newBtn=document.createElement("button");
newBtn.textContent="Click me!";
document.getElementById("controls").appendChild(newBtn);

/* MEDIUM 5 */
const item=document.createElement("div");
item.className="item";

const span=document.createElement("span");
span.textContent="Apple";

const removeBtn=document.createElement("button");
removeBtn.textContent="Remove";
removeBtn.onclick=()=>item.remove();

item.append(span,removeBtn);
document.getElementById("cart").appendChild(item);

/* MEDIUM 6 */
document.querySelector(".avatar").src=
"https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d";

/* MEDIUM 7 */
document.querySelectorAll(".article-body > p").forEach(p=>{
p.classList.add("highlight");
});

/* MEDIUM 8 */
document.getElementById("theme-toggle").onclick=()=>{
document.body.classList.toggle("dark-mode");
};

/* MEDIUM 9 */
document.querySelectorAll('[data-action="delete"]').forEach(btn=>{
btn.onclick=()=>btn.closest(".card").remove();
});

/* MEDIUM HARD 10 TODO */
const input=document.getElementById("todo-input");
const addBtn=document.getElementById("add-btn");
const list=document.getElementById("todo-list");

addBtn.onclick=()=>{
if(input.value==="")return;

const li=document.createElement("li");
li.textContent=input.value;

const del=document.createElement("button");
del.textContent=" Delete";
del.onclick=()=>li.remove();

li.appendChild(del);
list.appendChild(li);
input.value="";
};

/* HARD 11 EVENT DELEGATION */
document.getElementById("users-list").onclick=(e)=>{
if(e.target.matches("li")){
console.log("Clicked user ID:",e.target.dataset.userId);
}
};

/* HARD 12 COUNTER */
let count=0;
const countSpan=document.getElementById("count");

document.getElementById("plus").onclick=()=>{
count++;
countSpan.textContent=count;
};

document.getElementById("minus").onclick=()=>{
if(count>0){
count--;
countSpan.textContent=count;
}
};

/* HARD 13 SEARCH */
document.getElementById("search").oninput=function(){
const value=this.value.toLowerCase();

document.querySelectorAll(".country").forEach(li=>{
li.style.display=
li.textContent.toLowerCase().includes(value)?"":"none";
});
};

/* HARD 14 COLOR PICKER */
document.querySelectorAll(".swatch").forEach(swatch=>{
swatch.onclick=()=>{
document.body.style.background=swatch.dataset.color;
};
});

/* HARD 15 SORTABLE */
let dragged;

document.querySelectorAll("#sortable li").forEach(li=>{

li.ondragstart=()=>dragged=li;

li.ondragover=e=>e.preventDefault();

li.ondrop=()=>{
li.parentNode.insertBefore(dragged,li);
};

});

/* HARD 16 MODAL */
document.getElementById("open-modal").onclick=()=>{

const overlay=document.createElement("div");
overlay.className="modal-overlay";

const modal=document.createElement("div");
modal.className="modal";

modal.innerHTML=`
<h3>Modal Title</h3>
<p>This is modal</p>
<button id="close-modal">Close</button>
`;

overlay.appendChild(modal);
document.body.appendChild(overlay);

overlay.onclick=e=>{
if(e.target===overlay)overlay.remove();
};

modal.querySelector("#close-modal").onclick=()=>{
overlay.remove();
};

};

</script>

</body>
</html>
